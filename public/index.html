<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/html">
<head>
  <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="chrome=1" />
  <meta name="viewport" content="width=device-width">
  <!--<link rel="icon" href="docs/images/favicon.ico" />-->
  <link rel='stylesheet' type="text/css" href="index.css"/>
  <title>Notjs</title>
</head>
<body>

  <div id="sidebar" class="interface">
    <a class="toc-title" href="#">
      Notjs <span class="version">(0.0.1)</span>
    </a>
    <ul class="toc-section">
      <li>&raquo; <a href="https://github.com/bee-hub/notjs">GitHub Repository</a></li>
    </ul>

    <a class="toc-title" href="#introduction">
      Introduction
    </a>

    <div id="methodsTocTemplate" class="not-partial">
      <ul class="methods">
        <li class="method repl-template"><a class="method-short-link" href="#">MethodName</a>()</li>
      </ul>
    </div>

    <div id="moduleTemplate">
      <div class="module">
        <a class="toc-title module-name" href="#">
          Module Name
        </a>
        <div class="classes">
          Classes
          <div class="class repl-template">
            <ul class="toc-section">
              <li>
                &nbsp;&nbsp;- <a class='class-short-link' href="#">ClassName</a>
              </li>
              <div class="methods" data-not_partial="#methodsTocTemplate"></div>
            </ul>
          </div>
        </div>
        <div class="files">
          Files
          <div class='file repl-template'>
            <ul class="toc-section">
              <li>
                &nbsp;&nbsp;- <a class='file-short-link' href="#">FileName</a>
              </li>
              <div class="methods" data-not_partial="#methodsTocTemplate"></div>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="container">
    <p>
      Notjs - No Templates, please
    </p>

    <p>
      Notjs is a set of components that enhances development of rich, RESTful web pages without the need for
      server side or client side template rendering.
    </p>

    <p>
      The project is <a href="http://github.com/bee-hub/notjs/">hosted on GitHub</a>.
      Notjs is available for use under the MIT software license</a>.
    </p>

    <p>
      You can report bugs and discuss features on the
      <a href="http://github.com/bee-hub/notjs/issues">GitHub issues page</a>,
    </p>

    <h2 id="downloads">
      Downloads
      <span style="padding-left: 7px; font-size:11px; font-weight: normal;" class="interface">(Right-click, and use "Save As")</span>
    </h2>

    <table>
      <tr>
        <td><a class="punch" href="notjs.basics.js">Notjs.basics Development Version (0.0.1)</a></td>
        <td class="text">Unminified, commented source</td>
      </tr>
      <tr>
        <td><a class="punch" href="notjs.basics.min.js">Notjs.basics Production Version (0.0.1)</a></td>
        <td class="text"><i>Minified and gzipped</i></td>
      </tr>
    </table>

    <h2 id="dependencies">Dependencies</h2>
    <p>
      Notjs.basics Dependencies:
      <ul>
        <li><a href="http://underscorejs.org/">Underscore.js</a> <small>( > 1.3.3)</small></li>
        <li><a href="http://jquery.com">jQuery</a> <small>( > 1.7.2)</small></li>
      </ul>
    </p>

    <h2 id="introduction">Introduction</h2>
    <p><b>Not = No Templates, please</b></p>
    <p>
      Notjs is a set of components that enhance and simplify development of rich, RESTful web pages without
      the need for server or client side template rendering.
    </p>

    <p>
      <h3 style="display: inline">
        DISCLAIMER: As of March 23, 2013, currently in early alpha, potentially buggy development phase.
      </h3>&nbsp;&nbsp;I have a full time job that is not funding this project, so, well, I'm working on it, already, gosh. :)
      I would love and appreciate any help or suggestions with development.  Please watch us on
      <a href="https://github.com/bee-hub/notjs">Github</a> for release annoucements.  Wiki etc.  Also check
      back here for an updated disclaimer and release announcments.
    </p><p>
      <b><i>Question:</i>&nbsp;&nbsp;&nbsp;&nbsp; What do you against html templating?</b><br>
      <b><i>Answer:</i></b> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; I have used a lot of different templating frameworks and systems
      over the years, Rails, PHP, Underscore.js templates, Javascript Templates, .Net, Java Server Pages,
      Active Server Pages....  They all have the same basic flaw - unless care is taken to make them completely
      logicless, they force you to put your view logic in two places or completely mix concerns and embed your
      layout, display and static content with your view logic.  Imagine dissecting a .php template written by someone
      else that has a bunch of script tags littered on it and even some direct data access, and you will be in the
      mindset that inspired this project.
    </p><p>
      I don't have anything against the lot of templating solutions I've used and I even find simple solutions
      like underscore.js templates to still be  extremely useful.   But, for the most part, HTML 5 and custom
      data- attributes plus super fast DOM manipulation provided by jQuery makes these templates unnecessary.
      If only I had a few powerful bricks....
    </p><p>
      Separating view layout and static content from logic that injects dynamic data has big benefits.  Since it
      effectively turns your templates into static html files, they can be localized and edge cached on a CDN.
      There is no need for a bundle of templates nor is it necessary for the client to parse the files or
      alternatively have the server recompile the template making the whole template effectively dynamic.
      Directly injecting a number of dynamic datum into the DOM should in most cases be faster than having to
      parse every template in it's entirety to do string substitutions. And since you don't need an application
      server or framework.  Most of the Notjs.basics examples will run just fine from the local file system via
      a file:// url.  This documentation you are reading, for example, can be opened and debugged from the local
      file system.
    </p><p>
      Notjs tries to not generate excessive amounts of html, the components will generate DOM elements mostly
      from HTML5 elements in the page that you are using the Notjs components on.  We will additionally
      favor the adding and removing of css classes to elements instead of adding style attributes to DOM elements so
      that you can style your page, your way, using whatever flavor of css you like.  These principles are just
      guidelines, the only way the resizer  component can work is to update the height and width via the tag style,
      but I'll try to avoid it as a general practice.
    </p>
    <h4>Where to Start?</h4>
    <p>
      Replicator and Partials are the two most basic components in the notjs.basics module.  These two classes
      are used to construct this page.   The API docs below and the table of contents for the API on the left
      are constructed by notjs using in page partials and replicated DOM.  scripts/documentor.coffee walks
      the source tree and creates public/documentorData.js which is included in this page via a script tag.
      See docs task in Cakefile.
    </p>
    <b>View the source of this page and find this at the bottom:</b>
    <pre><code>
      $(document).ready(function(){
        // resolve partial templates first because some of them are replicator templates too.
        // NOTE:  not using onPartialsResolved option because there are no external partials in
        //        this page.  Yet.  If there are and the replicators below are relying on them,
        //        then we would hang the two replicate calls off of the onPartialsResolved option
        //        to .resolve()
        Notjs.basics.Partials.resolve()
        // documentorData is declared and initialized in documentorData.js file loaded by script tag above
        // it is an array of objects each representing one module of documentation which happens to correspond
        // to one tree of source.  Each module can have many classes, files and methods and, additionally,
        // classes and files can also each have many methods.   See also ./scripts/documentor.coffee and
        // ./Cakefile ("docs" task)
        Notjs.basics.Replicator.replicate('#moduleTemplate', documentorData, replicateModule)
        Notjs.basics.Replicator.replicate('#apiDocs', documentorData, replicateModule)
      })
    </code></pre>

    <div id="methodsAPITemplate" class="not-partial">
      <div class="method repl-template">
        <p class="method-bookmark"></p>
        <div><h4>Method</h4><span class='method-name header' href="#">MethodName</span></div>
        <pre><code class='method-code'></code></pre>
        <pre class="method-comment comment"></pre>
      </div>
    </div>

    <div id="apiDocs">
      <div class="module">
        <p class="module-bookmark"></p>
        <h1><span class="module-name">Module Name</span></h1>
        <div class="classes">
          <h3>Classes</h3>
          <div class="class repl-template">
            <div>
              <p class="class-bookmark"></p>
              <div><h4>Class</h4><span class='class-name header'>Class Name</span></div>
              <code class='class-code'>Class Code</code>
              <pre class='class-comment comment'>Class Comment</pre>
              <div>
                <h3>Methods</h3>
                <div class="methods" data-not_partial="#methodsAPITemplate"></div>
              </div>
            </div>
          </div>
        </div>
        <div class="files">
          <h3>Files</h3>
          <div class="file repl-template">
            <div>
              <p class="file-bookmark"></p>
              <div><h4>File</h4><span class='file-name header'>File Name</span></div>
              <code><pre class='file-code'>File Code</pre></code>
              <pre class='file-comment comment'>File Comment</pre>
              <div>
                <h3>Methods</h3>
                <div class="methods" data-not_partial="#methodsAPITemplate"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="vendor/underscore-1.4.2.min.js"></script>
  <script src="vendor/jquery-1.8.3.min.js"></script>
  <script src="notjs.basics.js"></script>
  <script src="documentorData.js"></script>

  <script>
    console.log("documentorData from .js: ")
    console.log(documentorData)

    injectData = function($el, selectorPrefix, obj){
      console.log("injectData")
      console.log($el.html())
      $el.find(selectorPrefix + "short-link").attr('href', '#' + obj.id).html(obj.shortName||obj.name)
      $el.find(selectorPrefix + "name").html(obj.shortName)
      $el.find(selectorPrefix + "bookmark").attr('id', obj.id)
      if( obj.code )
        $el.find(selectorPrefix + "code").html(obj.code.join('\n   '))
      if( obj.comment ){
        $el.find(selectorPrefix + "comment").html(obj.comment.join('\n'))
      }
    }

    replicatePart = function($element, array, tmplSelector, hideParent, method) {
      $template = $element.find(tmplSelector)
      if(array && array.length > 0)
        Notjs.basics.Replicator.replicate($template, array, method);
      else if( hideParent )
        $element.find(hideParent).delay(0).hide()
    }

    replicateMethod = function($element, method){
      injectData($element, '.method-', method)
      return true;
    }

    replicateClass = function($element, klass){
      injectData($element, '.class-', klass)
      replicatePart($element,  klass.methods, '.method.repl-template', '.methods', replicateMethod);
      return true;
    }

    replicateFile = function($element, file){
      injectData($element, '.file-', file)
      replicatePart($element, file.methods, '.method.repl-template', '.methods', replicateMethod);
      return true;
    }

    replicateModule = function($element, module){
      injectData($element, '.module-', module)
      replicatePart($element, module.classes, '.class.repl-template',  '.classes', replicateClass);
      replicatePart($element, module.files,   '.file.repl-template',   '.files',   replicateFile);
      return true;
    }

    $(document).ready(function(){
      // resolve partial templates first because some of them are replicator templates too.
      // NOTE:  not using onPartialsResolved option because there are no external partials in
      //        this page.  Yet.  If there are and the replicators below are relying on them,
      //        then we would hang the two replicate calls off of the onPartialsResolved option
      //        to .resolve()
      Notjs.basics.Partials.resolve()
      // documentorData is declared and initialized in documentorData.js file loaded by script tag above.
      // It is an array of objects each representing one module of documentation which happens to correspond
      // to one tree of source.  Each module can have many classes, files and methods and, additionally,
      // classes and files can also each have many methods.   See also ./scripts/documentor.coffee and
      // ./Cakefile ("docs" task)
      Notjs.basics.Replicator.replicate('#moduleTemplate', documentorData, replicateModule)
      Notjs.basics.Replicator.replicate('#apiDocs', documentorData, replicateModule)
    })
  </script>

</body>
</html>
